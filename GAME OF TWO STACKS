def twoStacks(maxSum, a, b):
    s = 0
    i = 0
    j = 0
    count = 0

    while i < len(a) and s + a[i] <= maxSum:
        s += a[i]
        i += 1
    count = i

    while j < len(b):
        s += b[j]
        j += 1
        while s > maxSum and i > 0:
            i -= 1
            s -= a[i]
        if s <= maxSum:
            count = max(count, i + j)
    return count
